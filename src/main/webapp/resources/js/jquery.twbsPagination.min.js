table = $('#board1-table').DataTable({
	pagingType:"simple_numbers_no_ellipses",        // 페이징에서 생략부호 빼기
	serverSide: true,                                             // ajax로 서버 데이터 처리
	pageLength: pageLen,                                          // 게시물 뒤로가기 시 기존 가지고 있던 페이지 크기를 넣어주므로 변수에 값 저장 
	searching: true,
	ordering: false,
	select: true,
	ajax : {
		 "type":"POST",
		 "url":'/board/list',
		 "data":function(d, event){                                   // 서버에 전달할 데이터
			   d.searchValue = $('.board-list-serach-form').val();    // 검색 버튼을 누르면 .board-list-search-form 의 값을 가져옴.
			   d.searchType =  $('.list-select-form').val();
			   var info =  $('#board-list-select-vo').val();
			   if(info != undefined){
					d.start =  ($('#board-list-select-vo .page').val()-1) * 10;
					d.length =  $('#board-list-select-vo .length').val();
					d.searchType =  $('#board-list-select-vo .searchType').val();
					d.searchValue =  $('#board-list-select-vo .searchValue').val();
			   }
			   return d;                    
		 }
		 
	},    
	columns : [                                                       // 서버에서 받은 값을 넣어주기 전 커스텀마이징 할 수 있다.
		 {"data":"boardSeq", render:function(data,  type, full, meta){
			   return '<div  class="board-list-boardSeq">'+data+'</div>';
		 
		 }},
		 {"data":"title", render:function(data,  type, full, meta){
		 return '<div  class="board-list-title">'+data+'</div>';
	}},
		 {"data":"writer"},
		 {"data":"dateString"},
		 {"data":"count"}
],
"initComplete":function(oSettings){                            		// 데이터 테이블 초기화
	var info = $('#board-list-select-vo').val();
	if(info != undefined){
		 var pageNum = $('#board-list-select-vo  .page').val();
			   pageNum *= 1;
			   this.fnPageChange( pageNum-1 );
			   $('#board-list-select-vo').remove();
	}
}
,"fnDrawCallback": function(){                                      // 서버에서 데이터 전달 후 처리
	var api = this.api();
	var json = api.ajax.json().selectVO;
	gLength = json.length;
	gPage = table.page.info().page + 1;
	gStart = json.start;
	gSearchType = json.searchType;
	gSearchValue = json.searchValue;
	
	$('#board1-table').on("click",  ".board-list-title", function(){
		  var parent = $(this).parent();
		 if(undefined == parent){
			   return;
		 }
		 
		 var parent = $(parent).parent();
		 if(undefined == parent){
			   return;
		 }
			   
		 var boardSeq =   $(parent).children('td').children('.board-list-boardSeq').html();
		 if(undefined == $('#boardSearchForm')){
			   return;
		 }
			   
		 var data = {
			   "boardSeq" : boardSeq
		 };
									
		 var url = getHrefBoardList('#actionForm',   '/board/'+boardSeq);
		 ajaxRequest("/board/"+boardSeq,  JSON.stringify(data),  "POST", url);
	});             
}
});

$('#searchBoardButton').click(function(){            				// 검색 버튼 누르기

$('.list-select-form').val( $('.list-select-form').val());			// 값을 전달 할 때 값을 직접참조($('.list-select-form').val();)로 전달하지 않으면 전달값이 갱신이 안됨
$('.board-list-serach-form').val($('.board-list-serach-form').val());
$('#board1-table').DataTable().ajax.reload();						// reload 를 받드시해야한다
	
});